KWMF_INCLUDES='-I$(top_srcdir)/lib/kwmf -I$(top_builddir)/lib/kwmf'
AC_SUBST(KWMF_INCLUDES)

KSTORE_INCLUDES='-I$(top_srcdir)/lib/store -I$(top_builddir)/lib/store'
AC_SUBST(KSTORE_INCLUDES)

KOFFICECORE_INCLUDES='-I$(top_srcdir)/lib/kofficecore -I$(top_builddir)/lib/kofficecore'
AC_SUBST(KOFFICECORE_INCLUDES)

KOFFICEUI_INCLUDES='-I$(top_srcdir)/lib/kofficeui -I$(top_builddir)/lib/kofficeui'
AC_SUBST(KOFFICEUI_INCLUDES)

LIB_KOFFICEUI='$(top_builddir)/lib/kofficeui/libkofficeui.la'
LIB_KOFFICECORE='$(top_builddir)/lib/kofficecore/libkofficecore.la'
LIB_KSTORE='$(top_builddir)/lib/store/libkstore.la'
LIB_KWMF='$(top_builddir)/lib/kwmf/libkwmf.la'
AC_SUBST(LIB_KOFFICEUI)
AC_SUBST(LIB_KOFFICECORE)
AC_SUBST(LIB_KSTORE)
AC_SUBST(LIB_KWMF)

interfacedir='$(top_srcdir)/lib/interfaces'
AC_SUBST(interfacedir)

KOFFICE_LIBS='$(LIB_KOFFICEUI) $(LIB_KOFFICECORE) $(LIB_KSTORE)'
AC_SUBST(KOFFICE_LIBS)

KOFFICE_INCLUDES='$(KOFFICEUI_INCLUDES) $(KOFFICECORE_INCLUDES) $(KSTORE_INCLUDES) $(KWMF_INCLUDES)'
AC_SUBST(KOFFICE_INCLUDES)

AC_LANG_SAVE
AC_LANG_CPLUSPLUS
AC_CHECK_HEADERS(streambuf streambuf.h)
AC_LANG_RESTORE

dnl only use kdeprint if kprinter.h was found (recent kdelibs)
AC_MSG_CHECKING([for kprinter.h (kdelibs>2.1)])
AC_FIND_FILE(kprinter.h, $kde_includes, ac_kprinter_includes)
 
if test -n "$ac_kprinter_includes" && test -r "$ac_kprinter_includes/kprinter.h"; then
  AC_DEFINE(HAVE_KDEPRINT, 1, [Define if you have kprinter.h])
  LIB_KDEPRINT=-lkdeprint
  AC_MSG_RESULT([found in $ac_kprinter_includes])
else
  LIB_KDEPRINT=
  AC_MSG_ERROR([not found -- please use kdelibs from KDE 3.x])
fi
AC_SUBST(LIB_KDEPRINT)
AC_DEFINE(HAVE_KDEPRINT_TESTED, 1, [Define if kdeprint was tested])

