####### General stuff

SUBDIRS = . tests
KDE_CXXFLAGS = $(USE_RTTI)
INCLUDES= $(KSTORE_INCLUDES) $(KWMF_INCLUDES) $(all_includes)
libkofficecore_la_LIBADD  = $(LIB_KSTORE) $(LIB_KWMF) $(LIB_KPARTS) \
	$(LIB_KDEPRINT)

####### Files

lib_LTLIBRARIES = libkofficecore.la libkodocinfopropspage.la

libkofficecore_la_SOURCES = koDocument.cc \
	koFilterManager.cc \
	koMainWindow.cc koPrintPreview.cc \
	koApplication.cc koQueryTrader.cc \
	koFilter.cc koFilterChain.cpp \
	koImage.cc koImageCollection.cc \
	koClipart.cc koClipartCollection.cc \
	koDocumentInfo.cc \
	koView.cc koFrame.cc handler.cpp koDocumentChild.cc \
	koDocumentInfoDlg.cc koFactory.cc koChild.cc \
	KoApplicationIface.cc KoApplicationIface.skel \
	KoDocumentIface.cc KoDocumentIface.skel KoViewIface.cc KoViewIface.skel \
	KoMainWindowIface.cc KoMainWindowIface.skel

libkofficecore_la_LDFLAGS = $(all_libraries) -version-info 1:0:0 -no-undefined

include_HEADERS = koFilter.h \
	koDocument.h \
	koMainWindow.h koPrintPreview.h \
	koApplication.h koQueryTrader.h \
	koFilterManager.h \
	koDocumentInfo.h \
	koView.h koFrame.h handler.h koDocumentChild.h \
	koDocumentInfoDlg.h koFactory.h koChild.h \
	KoApplicationIface.h KoDocumentIface.h KoViewIface.h KoMainWindowIface.h \
	koImage.h koImageCollection.h koClipart.h koClipartCollection.h

noinst_HEADERS = koDocument_p.h koFilterChain.h

libkodocinfopropspage_la_SOURCES = koDocInfoPropsFactory.cc
libkodocinfopropspage_la_LIBADD = ./libkofficecore.la
libkodocinfopropspage_la_LDFLAGS = $(all_libraries) -module -no-undefined

METASOURCES = AUTO

rcdir = $(kde_datadir)/koffice
rc_DATA = koffice_shell.rc

service_DATA = kodocinfopropspage.desktop
servicedir = $(kde_servicesdir)
