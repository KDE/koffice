INCLUDES  = $(KOFFICE_INCLUDES) -I$(srcdir)/kdchart -I$(top_srcdir)/interfaces -I$(interfacedir) $(all_includes)

## The part
kde_module_LTLIBRARIES = libkchartpart.la
libkchartpart_la_SOURCES = kchart_part.cc \
	kchart_view.cc kchart_factory.cc \
	kchartBarConfigDialog.cc \
	kchartBarConfigPage.cc \
	kchartColorConfigPage.cc \
	kchartParameterConfigPage.cc \
	kchartParameter3dConfigPage.cc \
	kchartBackgroundPixmapConfigPage.cc	\
	kchartSubTypeChartPage.cc	\
	kchartComboConfigPage.cc \
	kchartFontConfigPage.cc \
	kchartPieConfigPage.cc \
	kchartParameterPieConfigPage.cc \
	kchartConfigDialog.cc \
	kchartGeometryConfigPage.cc \
	kchartWizard.cc \
	kchartWizardLabelsLegendPage.cc \
	kchartWizardSelectChartSubTypePage.cc \
	kchartWizardSelectChartTypePage.cc \
	kchartWizardSelectDataPage.cc \
	kchartWizardSetupAxesPage.cc \
	kchartWizardSetupDataPage.cc \
	kchartDataEditor.cc \
	parser.cc \
	sheet.cc \
	sheetdlg.cc \
	table.cc qttableview.cpp KChartViewIface.skel KChartViewIface.cc \
	kchartLegendConfigPage.cc kchart_params.cc KChartParamsIface.skel \
	KChartParamsIface.cc kchartHeaderFooterConfigPage.cc \
	kchartLine3dConfigPage.cc kchartParameterPolarConfigPage.cc

libkchartpart_la_LDFLAGS = $(KDE_PLUGIN)
libkchartpart_la_LIBADD = $(top_builddir)/interfaces/libkochart.la \
                          $(LIB_KOFFICEUI) \
			  kdchart/libkdchart.la			

## The kdeinit loadable module
lib_LTLIBRARIES = kchart.la
kchart_la_SOURCES = main.cc
kchart_la_LDFLAGS = $(all_libraries) -avoid-version -module
kchart_la_LIBADD = $(LIB_KOFFICECORE)

## The executable
bin_PROGRAMS = kchart
kchart_SOURCES = dummy.cc
kchart_LDFLAGS = $(all_libraries) $(KDE_RPATH)
kchart_LDADD = kchart.la

dummy.cc:
	echo > dummy.cc

noinst_HEADERS =  kchart_part.h \
		kchart_view.h kchart_factory.h \
		kchartBarConfigDialog.h \
		kchartBarConfigPage.h \
		kchartColorConfigPage.h \
		kchartParameterConfigPage.h \
		kchartParameter3dConfigPage.h \
		kchartBackgroundPixmapConfigPage.h	\
		kchartSubTypeChartPage.h	\
		kchartComboConfigPage.h \
		kchartParameterPieConfigPage.h \
		kchartFontConfigPage.h \
		kchartPieConfigPage.h \
		kchartConfigDialog.h \
		kchartGeometryConfigPage.h \
		kchartWizard.h \
		kchartWizardLabelsLegendPage.h \
		kchartWizardSelectChartSubTypePage.h \
		kchartWizardSelectChartTypePage.h \
		kchartWizardSelectDataPage.h \
		kchartWizardSetupAxesPage.h \
		kchartWizardSetupDataPage.h \
		kchartDataEditor.h \
		parser.h \
		sheet.h \
		sheetdlg.h \
		table.h \
		kchart_aboutdata.h	\
		kchartcolorarray.h KChartViewIface.h \
		kchartLegendConfigPage.h  kchart_params.h \
		KChartParamsIface.h kchartHeaderFooterConfigPage.h \
		kchartLine3dConfigPage.h kchartParameterPolarConfigPage.h

METASOURCES = AUTO

rcdir = $(kde_datadir)/kchart
rc_DATA = kchart.rc

kdelnk_DATA = kchart.desktop
kdelnkdir = $(kde_appsdir)/Office

kdemime_DATA = x-kchart.desktop
kdemimedir = $(kde_mimedir)/application

# linktest - from dfaure

check_PROGRAMS = linktest
linktest_SOURCES = $(libkchartpart_la_SOURCES)
linktest_LDADD = $(lib_LTLIBRARIES)
linktest_LDFLAGS = $(libkchartpart_la_LDFLAGS)

# SUBDIRS =  . plugins pics dtd toolbar
SUBDIRS =  kdchart . toolbar pics

messages: rc.cpp
	$(XGETTEXT) rc.cpp *.cc kchart_aboutdata.h -o $(podir)/kchart.pot
