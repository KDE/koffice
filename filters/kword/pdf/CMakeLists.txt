
include_directories(${CMAKE_SOURCE_DIR}/filters/kword/pdf/xpdf/xpdf ${CMAKE_SOURCE_DIR}/filters/kword/pdf/xpdf/goo ${CMAKE_BINARY_DIR}/filters/)

set(libxpdf_SRCS
	${CMAKE_SOURCE_DIR}/filters/kword/pdf/xpdf/xpdf/Array.cc 
	${CMAKE_SOURCE_DIR}/filters/kword/pdf/xpdf/xpdf/BuiltinFont.cc 
	${CMAKE_SOURCE_DIR}/filters/kword/pdf/xpdf/xpdf/BuiltinFontTables.cc 
	${CMAKE_SOURCE_DIR}/filters/kword/pdf/xpdf/xpdf/Catalog.cc 
	${CMAKE_SOURCE_DIR}/filters/kword/pdf/xpdf/xpdf/CharCodeToUnicode.cc 
	${CMAKE_SOURCE_DIR}/filters/kword/pdf/xpdf/xpdf/CMap.cc 
	${CMAKE_SOURCE_DIR}/filters/kword/pdf/xpdf/xpdf/Decrypt.cc 
	${CMAKE_SOURCE_DIR}/filters/kword/pdf/xpdf/xpdf/Dict.cc 
	${CMAKE_SOURCE_DIR}/filters/kword/pdf/xpdf/xpdf/Error.cc 
	${CMAKE_SOURCE_DIR}/filters/kword/pdf/xpdf/xpdf/FontEncodingTables.cc 
	${CMAKE_SOURCE_DIR}/filters/kword/pdf/xpdf/xpdf/FontFile.cc 
	${CMAKE_SOURCE_DIR}/filters/kword/pdf/xpdf/xpdf/Function.cc 
	${CMAKE_SOURCE_DIR}/filters/kword/pdf/xpdf/xpdf/Gfx.cc 
	${CMAKE_SOURCE_DIR}/filters/kword/pdf/xpdf/xpdf/GfxFont.cc 
	${CMAKE_SOURCE_DIR}/filters/kword/pdf/xpdf/xpdf/GfxState.cc 
	${CMAKE_SOURCE_DIR}/filters/kword/pdf/xpdf/xpdf/GlobalParams.cc 
	${CMAKE_SOURCE_DIR}/filters/kword/pdf/xpdf/xpdf/Lexer.cc 
	${CMAKE_SOURCE_DIR}/filters/kword/pdf/xpdf/xpdf/Link.cc 
	${CMAKE_SOURCE_DIR}/filters/kword/pdf/xpdf/xpdf/NameToCharCode.cc 
	${CMAKE_SOURCE_DIR}/filters/kword/pdf/xpdf/xpdf/Object.cc 
	${CMAKE_SOURCE_DIR}/filters/kword/pdf/xpdf/xpdf/OutputDev.cc 
	${CMAKE_SOURCE_DIR}/filters/kword/pdf/xpdf/xpdf/Page.cc 
	${CMAKE_SOURCE_DIR}/filters/kword/pdf/xpdf/xpdf/Parser.cc 
	${CMAKE_SOURCE_DIR}/filters/kword/pdf/xpdf/xpdf/PDFDoc.cc 
	${CMAKE_SOURCE_DIR}/filters/kword/pdf/xpdf/xpdf/PSTokenizer.cc 
	${CMAKE_SOURCE_DIR}/filters/kword/pdf/xpdf/xpdf/Stream.cc 
	${CMAKE_SOURCE_DIR}/filters/kword/pdf/xpdf/xpdf/UnicodeMap.cc 
	${CMAKE_SOURCE_DIR}/filters/kword/pdf/xpdf/xpdf/XRef.cc 
	${CMAKE_SOURCE_DIR}/filters/kword/pdf/xpdf/xpdf/Annot.cc 
	${CMAKE_SOURCE_DIR}/filters/kword/pdf/xpdf/xpdf/Outline.cc 
	${CMAKE_SOURCE_DIR}/filters/kword/pdf/xpdf/xpdf/JBIG2Stream.cc 
	${CMAKE_SOURCE_DIR}/filters/kword/pdf/xpdf/xpdf/PDFDocEncoding.cc 
    ${CMAKE_SOURCE_DIR}/filters/kword/pdf/xpdf/xpdf/TextOutputDev.cc
)

set(libgoo_SRCS
	${CMAKE_SOURCE_DIR}/filters/kword/pdf/xpdf/goo/GHash.cc 
	${CMAKE_SOURCE_DIR}/filters/kword/pdf/xpdf/goo/GList.cc 
	${CMAKE_SOURCE_DIR}/filters/kword/pdf/xpdf/goo/GString.cc 
	${CMAKE_SOURCE_DIR}/filters/kword/pdf/xpdf/goo/gmempp.cc 
	${CMAKE_SOURCE_DIR}/filters/kword/pdf/xpdf/goo/gfile.cc 
	${CMAKE_SOURCE_DIR}/filters/kword/pdf/xpdf/goo/gmem.c 
	${CMAKE_SOURCE_DIR}/filters/kword/pdf/xpdf/goo/parseargs.c
	)



########### next target ###############

set(pdfimport_PART_SRCS ${libgoo_SRCS} ${libxpdf_SRCS}
   misc.cpp 
   transform.cpp 
   data.cpp 
   fstring.cpp 
   FilterPage.cpp 
   FilterDevice.cpp 
   pdfdocument.cpp 
   dialog.cpp 
   pdfimport.cpp )

kde4_automoc(pdfimport ${pdfimport_PART_SRCS})

kde4_add_plugin(pdfimport WITH_PREFIX ${pdfimport_PART_SRCS})

kde4_install_libtool_file( ${PLUGIN_INSTALL_DIR} pdfimport )

target_link_libraries(pdfimport  ${KDE4_KDECORE_LIBS} kofficecore )

install(TARGETS pdfimport  DESTINATION ${PLUGIN_INSTALL_DIR})


########### install files ###############

install( FILES  kword_pdf_import.desktop  DESTINATION ${SERVICES_INSTALL_DIR})


