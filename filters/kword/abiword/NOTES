1. Welcome

 Welcome to KWord's AbiWord import/export filter.

 For now, this file is just a storage for some technical notes.

2. AbiWord's Multiple File Formats

 AbiWord's file format has evolved in the time. The older file formats are
 XML-like, the newer ones are in XML.

 Here are a few versions (from oldest to newest):

   - The "awml" format starts with a tag <awml> and has no other header before.

   - The "anonymous" format is the same but the tag <awml> is now named
   <abiword>.

   - The "numbered" version has a special header embeded in XML comments and the
   tag <abiword> has now a "version" attribute with a version number as parameter

   - The "unnumbered" version has the version number of the "version" attribute
   with the value "unnumbered".

   - The "xml" version has a XML declaration ( <?xml ) and but has still the
   special header after the XML declaration. Note: the encoding (e.g. UTF-8) is
   not always given.

   - The "fileformat 1.0" version: the <abiword> tag has an attribute fileformat
   (set to 1.0)

   - The "wrong doctype": a DOCTYPE was added with a wrong public type of:
   "-//W3C//DTD ABW 1.0 Strict//EN". (Wrong is the W3C part! W3C has nothing to
   do with AbiWord. AbiWord Bug #1882)

 (They are NOT official names; it is just how I have named them.)

 They may be also other variations of the file format!
 
 The AbiWord filter for KWord *must* be able to read all those formats. A user
 will not be happy if you tell him that his sub-version is not supported!
 
 However to make it easier all these formats differ mainly only in the header.
 (Only the "awml" formats has different names for some tags.)

 Additionally, some files ("anonymous" ones?) seems to have tags and attributes
 in upper case. This must also be taken care of.

 Files in all those formats can be found in the source distribution of AbiWord
 (www.abisource.com), see in AbiWord's source code under the sub-directory
 test/wp and under its own sub-directories.

3. A Few Problems

 AbiWord is still in development. Be careful that future file formats does not
 contain potential problems. At least they should not crash the import filter.

 Abiword can only handle PNG images now. But the file format accepts any mime
 type. In future, it seems that even non-image object are also planned.
     
 You must really look into AbiWord's source code, as you will have the surprise
 to find that the documented file format (also in the source distribution) does
 not tell everything, e.g. the "mime-type" and "base64" attributes in the <d>
 tag.

Nicolas GOUTTE ( nicog at snafu dot de )
