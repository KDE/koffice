1. Welcome

 Welcome to KWord's AbiWord import/export filter.

 The filter is licensed under the term of the General Public License Version 2.0.

 For now, this file is just a storage for some technical notes.


2. AbiWord's Multiple File Formats

 AbiWord 0.7.12 can read different AbiWord file formats (from old to new):
   - the "awml" format,
   - the "anonymous" format,
   - the "numbered" format,
   - the "unnumbered" format,
   - the "xml" format.
 
 They are NOT official names; it is just how I have named them.
 
 The older formats are XML-like, the "xml" format is in XML.
 
   - The "awml" format starts with a tag <awml> and has no other header before.

   - The "anonymous" format is the same but the tag <awml> is now named
   <abiword>.

   - The "numbered" version has a special header embeded in XML comments and the
   tag <abiword> has now a "version" attribute with a version number as parameter

   - The "unnumbered" version has the version number of the "version" attribute
   with the value "unnumbered".

   - The "xml" version has a XML declaration ( <?xml ) and but has still the
   special header after the XML declaration. Note: the encoding (e.g. UTF-8) is
   not always given.

 They may be also other variation of the file formats!
 
 The AbiWord filter for KWord *must* be able to read all those formats. A user
 will not be happy if you tell him that his sub-version is not supported!
 
 However to make it easier all these formats differ mainly only in the header.
 (Only the "awml" formats has different names for some tags.)

 Additionally, some files ("anonymous" ones?) seems to have tags and attributes
 in upper case. This must also be taken care of.

 Files in all those formats can be found in the source distribution of AbiWord
 (www.abisource.com), see in AbiWord's source code under the sub-directory
 test/wp and under its own sub-directories.
 
 The good news is that for writing, we just need the "xml" file format,
 which is the current (AbiWord version 0.7.12)!

3. A Few Problems

 AbiWord is still in development. Be careful that future file formats does not
 contain potential problems. At least they should not crash the import filter.
 
 Abiword can only handle PNG images now. But the file format accepts any mime
 type. In future, it seems that even non-image object are also planned.
     
 You must really look into AbiWord's source code, as you will have the surprise
 to find that the documented file format (also in the source distribution) does
 not tell everything, e.g. the "mime-type" and "base64" attributes in the <d>
 tag.

Nicolas GOUTTE ( nicog at snafu dot de )
