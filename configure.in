
dnl without this order in this file, autoconf will not work!
dnl the argument is a source file out of your sources. But
dnl acinclude.m4 makes the job for all programs ;-)
AC_INIT(acinclude.m4)

dnl without this order in this file, automake will be confused!
dnl the argument 
AM_CONFIG_HEADER(config.h)
AC_CHECK_COMPILERS

if test "$GCC" = "yes"; then
  CXXFLAGS="$CXXFLAGS"
fi

AM_INIT_AUTOMAKE(koffice, 0.1)

dnl make $KDEDIR the default for the installation
AC_PREFIX_DEFAULT(${KDEDIR:-/usr/local/kde})

AM_ENABLE_SHARED(yes)
AM_ENABLE_STATIC(no)
KDE_PROG_LIBTOOL
AC_PATH_KDE 
AM_KDE_WITH_NLS

dnl Check for MICO. The argument is the minimal version required.
KDE_CHECK_MICO(2.1.0)
KDE_CHECK_MINI_STL

idldir="\$(includedir)/idl"
AC_SUBST(idldir)

KDE_CHECK_PYTHON(1.5)
AC_CHECK_HEADERS(unistd.h sys/param.h floatingpoint.h)
AC_FIND_QIMGIO
AC_C_BIGENDIAN

topdir=`pwd`
KOFFICE_LIBS="$topdir/lib/kofficeui/libkofficeui.la $topdir/lib/kofficecore/libkofficecore.la $topdir/lib/koml/libkoml.la"
AC_SUBST(KOFFICE_LIBS)

KOFFICE_INCLUDES="-I $topdir/lib/kofficeui -I $topdir/lib/kofficecore -I $topdir/lib/koml"
AC_SUBST(KOFFICE_INCLUDES)

dnl add here all your Makefiles. These are created by configure
AC_OUTPUT( \
	Makefile \
	kchart/Makefile	\
	kchart/core/Makefile \
	kchart/pics/Makefile \
	kchart/ui/Makefile \
	kformula/Makefile \
	kformula/pics/Makefile \
	killustrator/Makefile \
	killustrator/doc/Makefile \
	killustrator/filter/Makefile \
	killustrator/koffice/Makefile \
	killustrator/pics/Makefile \
	killustrator/share/Makefile \
	killustrator/standalone/Makefile \
	killustrator/xmlutils/Makefile \
	kimage/Makefile \
	kpresenter/Makefile \
	kpresenter/autoformEdit/Makefile \
	kpresenter/autoforms/Arrows/Makefile \
	kpresenter/autoforms/Connections/Makefile \
	kpresenter/autoforms/Makefile \
	kpresenter/pics/Makefile \
	kpresenter/templates/Makefile \
	kpresenter/toolbar/Makefile \
	kspread/Makefile \
	kspread/pics/Makefile \
	kspread/scripts/Makefile \
	kword/Makefile \
	kword/toolbar/Makefile \
	lib/Makefile \
	lib/kofficecore/Makefile \
	lib/kofficeui/Makefile \
	lib/kofficeui/pics/Makefile \
	lib/kofficeui/test/Makefile \
	lib/koml/Makefile \
	po/Makefile \
	po/de/Makefile \
	pt/pt/Makefile \
	po/no/Makefile \
 )
